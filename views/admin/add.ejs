<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Daily information - <%= title %></title>

    <!-- Bootstrap -->
    <link href="/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="/vendors/nprogress/nprogress.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="/build/css/custom.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/bootstrap-datepicker/dist/css/bootstrap-datepicker3.css">
    <style>
      .pagination{
        margin: 0;
      }
    </style>
  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="index.html" class="site_title"><i class="fa fa-info-circle"></i> <span>Daily information</span></a>
            </div>
            <div class="clearfix"></div>
            <% include layout-sidebar.ejs %>
          </div>
        </div>

        <% include layout-top-menu.ejs %>

        <!-- page content -->
        <div class="right_col" role="main">
          <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2><%= title %> <small><%= centreInfo.centre %></small></h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <!-- <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">

                        </ul>
                      </li> -->
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                      <li><a class="" href="/admin/table"><i class="fa fa-home text-danger" title="返回总表"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
										<form method="POST" action="/user/fom/add">
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">中心 <span class="text-danger">(*)</span></label>
                            <select type="text" name="centre" class="form-control" disabled>
                                <option value="">选择中心</option>
                                <option value="<%= centreInfo.id %>" selected><%= centreInfo.centre %></option>
                            </select>
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">部门 <span class="text-danger">(*)</span></label>
                            <select type="text" name="dept" class="form-control">
                                <option value="">选择部门</option>
                                <% for(var i = 0; i < deptList.length ; i++){ %>
                                    <option value="<%= deptList[i].id %>"><%= deptList[i].dept %></option>

                                <% } %>
                            </select>
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">科室 <span class="text-danger">(*)</span></label>
                            <select type="text" name="office" class="form-control">
                                <option value="">选择科室</option>
                                
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">姓名 <span class="text-danger">(*)</span></label>
                            <input type="text" name="name" class="form-control" placeholder="填写姓名">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">员工号 <span class="text-danger">(*)</span></label>
                            <input type="text" name="userid" class="form-control" placeholder="填写员工号">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">性别 <span class="text-danger">(*)</span></label>
                            <select type="text" name="gender" class="form-control">
                                <option value="">性别</option>
                                <option value="男">男</option>
                                <option value="女">女</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">毕业学校</label>
                            <input type="text" name="school" class="form-control" placeholder="毕业学校">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">毕业专业</label>
                            <input type="text" name="major" class="form-control" placeholder="毕业专业">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">最高学历</label>
                            <select type="text" name="education" class="form-control">
                                <option value="">学历</option>
                                <option value="本科">本科</option>
                                <option value="硕士">硕士</option>
                                <option value="博士">博士</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">毕业日期</label>
                            <input type="text" class="date form-control" name="graduation_date" placeholder="选择日期">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">开始工作日期</label>
                            <input type="text" class="date form-control" name="work_date" placeholder="选择日期">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">入职BOE日期</label>
                            <input type="text" class="date form-control" name="enter_date" placeholder="选择日期">
                        </div>
                    </div>
                        
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">出生日期</label>
                            <input type="text" class="date form-control" name="birthday" placeholder="选择日期">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">出生地</label>
                            <input type="text" name="birth_place" class="form-control" placeholder="出生地">
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">户口所在地</label>
                            <input type="text" name="domicile_place" class="form-control" placeholder="户口所在地">
                        </div>
                    </div>
                        
                    <div class="row">
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">专业职级 <span class="text-danger">(*)</span></label>
                            <select type="text" name="grade" class="form-control">
                                <option value="">选择级别</option>
                                <% for(var i = 0 ; i< gradeList.length ; i++){ %>
                                    <option value="<%= gradeList[i].grade %>"><%= gradeList[i].grade %></option>
                                <% } %>
                            </select>
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">岗位类别 <span class="text-danger">(*)</span></label>
                            <select type="text" name="postType" class="form-control">
                                <option value="">选择岗位类别</option>
                                <% for(var i = 0 ; i< postTypeList.length ; i++){ %>
                                    <option value="<%= postTypeList[i].postType %>"><%= postTypeList[i].postType %></option>
                                <% } %>
                            </select>
                        </div>
                        <div class="form-group col-lg-4">
                            <label for="" class="control-label">在职状态 <span class="text-danger">(*)</span></label>
                            <select type="text" name="state" class="form-control">
                                <option value="">选择在职状态</option>
                                <% for(var i = 0 ; i< stateList.length ; i++){ %>
                                    <option value="<%= stateList[i].state %>"><%= stateList[i].state %></option>
                                <% } %>
                            </select>
                        </div>
                    </div>
                        
                    <div class="row">
                        <div class="form-group col-lg-12">
                            <label for="content" class="control-label">备注</label>
                            <textarea rows="2" name="bz" class="form-control" placeholder="社招或实习日期等信息备注" style="width:100%;"></textarea>
                        </div>
                    </div>
                    <div class="row">
                         <div class="form-group">
                            <div class="col-lg-6">
                                <button type="reset" class="btn btn-default">重置</button>
                                <button type="submit" class="btn btn-primary">提交</button>
                            </div>
                        </div>
                    </div>    
                </form>

                  </div>
                </div>
                </div>
              </div>

          </div>
        </div>
        <!-- modals -->
        <!-- /page content -->
        <footer></footer>
      </div>
    </div>

    <!-- jQuery -->
    <script src="/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="/vendors/nprogress/nprogress.js"></script>

    <!-- self -->
    <script src="/bootstrap-table/dist/bootstrap-table.js"></script>
    <script src="/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js"></script>
    <script src="/bootstrap-table/dist/extensions/export/bootstrap-table-export.js"></script>
    <script src="/bootstrap-table/lib/tableExport.js"></script>

    <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
    <script src="/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>
    <script src="/bootstrap-datepicker/dist/locales/bootstrap-datepicker.zh-CN.min.js"></script>

    <!-- Custom Theme Scripts -->
    <script src="/build/js/custom.min.js"></script>

    <script src="/javascripts/base64.js"></script>

<!--     <script src="/crypto-js.js"></script>
    <script src="/javascripts/crypto-aes.js"></script> -->

    <script>
    	$(function(){
    		  // 日期选择框
			    $('input.date').datepicker({
			        format: "yyyy-mm-dd",
			        weekStart: 7,
			        maxViewMode: 1,
			        language: "zh-CN",
			        // daysOfWeekDisabled: "0,6",
			        // daysOfWeekHighlighted: "0,6",
			        autoclose: true,
			        todayHighlight: true,
			        // startDate: new Date()
			    }).on('show', function (e) {
			        e.preventDefault();
			        e.stopPropagation(); // 禁止触发父元素事件
			    }).on('hide', function (e) {
			        e.stopPropagation(); // 禁止触发父元素事件
			    });

			     // 根据中心获取部门

		        $('select[name=centre]').change(function(){
		            var centreId = $(this).val();
		            $.ajax({
		                url: '/user/fom/get/deptList?centreId=' + centreId,
		                success: function(result){
		                    $('select[name=dept] option:gt(0)').remove();
		                    for(var i = 0 ; i< result.length; i++){
		                        var $optionHtml = $('<option value="' + result[i].id + '">' + result[i].dept + '</option>');
		                        $('select[name=dept]').append($optionHtml);
		                    }
		                }
		            });
		        });
		        $('select[name=dept]').change(function(){
		            var deptId = $(this).val();
		            $.ajax({
		                url: '/user/fom/get/officeList?deptId=' + deptId,
		                success: function(result){
		                    $('select[name=office] option:gt(0)').remove();
		                    for(var i = 0 ; i< result.length; i++){
		                        var $optionHtml = $('<option value="' + result[i].id + '">' + result[i].office + '</option>');
		                        $('select[name=office]').append($optionHtml);
		                    }
		                }
		            });
		        });
			    // 表单验证
			    $('form').validate({
            rules: {
                centre: "required",
                dept: "required",
                office: "required",
                name: {
                    required: true,
                    maxlength: 6,
                    minlength: 2,
                },
                userid: {
                    required: true,
                    maxlength: 20,
                    minlength: 3,
                },
                gender: "required",
                school: {
                    required: true,
                    maxlength: 50,
                    minlength: 2,
                },
                major: {
                    required: true,
                    maxlength: 50,
                    minlength: 2,
                },
                education: "required",
                postType: "required",
                grade: "required",
                state: "required",
                bz: {
                    maxlength: 400
                }
            },
            errorClass: 'text-danger',
            errorElement: 'em'
        });
    	});
    </script>
  </body>
</html>
