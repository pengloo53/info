<% include ../layout/head.ejs %>
<!-- special css -->
<!-- <link rel="stylesheet" href="/bootstrap-table/dist/bootstrap-table.css"> -->
<!-- <link rel="stylesheet" href="/bootstrap3-editable/css/bootstrap-editable.css"> -->
<link rel="stylesheet" href="/bootstrap-datepicker/dist/css/bootstrap-datepicker3.css">
<!-- 自定义 -->
<link rel="stylesheet" href="/stylesheets/style.css">
<body>
    <div class="layout-head">
        <nav class="navbar navbar-default">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/user/fom"><%= deptInfo.dept %></a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="/user/fom">人员FOM</a></li>
                    </ul>
                    <% include layout-nav-right.ejs %>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
        <% include ../layout/alertMessage.ejs %>
    </div>
    <div class="container">
        <!-- <div class="content"> -->
<!--             <ol class="breadcrumb">
              <li><a href="/user/fom">FOM管理</a></li>
              <li class="active">添加人员</li>
            </ol> -->
            <div style="margin-top:0px" class="page-header">
                <h3>添加新入职人员</h3>
            </div>
            <div class="row">
                <div class="col-lg-10" id="add">
                    <form method="POST" action="/user/fom/add">
                        <div class="row">
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">中心 <span class="text-danger">(*)</span></label>
                                <select type="text" name="centre" class="form-control">
                                    <option value="">选择中心</option>
                                    <option value="<%= centreInfo.id %>" selected><%= centreInfo.centre %></option>
                                </select>
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">部门 <span class="text-danger">(*)</span></label>
                                <select type="text" name="dept" class="form-control">
                                    <option value="">选择部门</option>
                                    <option value="<%= deptInfo.id %>" selected><%= deptInfo.dept %></option>
                                </select>
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">科室 <span class="text-danger">(*)</span></label>
                                <select type="text" name="office" class="form-control">
                                    <option value="">选择科室</option>
                                    <% for(var i = 0 ; i< officeList.length ; i++){ %>
                                        <option value="<%= officeList[i].id %>"><%= officeList[i].office %></option>
                                    <% } %>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">姓名 <span class="text-danger">(*)</span></label>
                                <input type="text" name="name" class="form-control" placeholder="填写姓名">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">员工号 <span class="text-danger">(*)</span></label>
                                <input type="text" name="userid" class="form-control" placeholder="填写员工号">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">性别 <span class="text-danger">(*)</span></label>
                                <select type="text" name="gender" class="form-control">
                                    <option value="">性别</option>
                                    <option value="男">男</option>
                                    <option value="女">女</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">毕业学校 <span class="text-danger">(*)</span></label>
                                <input type="text" name="school" class="form-control" placeholder="毕业学校">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">毕业专业 <span class="text-danger">(*)</span></label>
                                <input type="text" name="major" class="form-control" placeholder="毕业专业">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">最高学历 <span class="text-danger">(*)</span></label>
                                <select type="text" name="education" class="form-control">
                                    <option value="">学历</option>
                                    <option value="本科">本科</option>
                                    <option value="硕士">硕士</option>
                                    <option value="博士">博士</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">毕业日期 <span class="text-danger">(*)</span></label>
                                <input type="text" class="date form-control" name="graduation_date" placeholder="选择日期">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">开始工作日期 <span class="text-danger">(*)</span></label>
                                <input type="text" class="date form-control" name="work_date" placeholder="选择日期">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">入职BOE日期 <span class="text-danger">(*)</span></label>
                                <input type="text" class="date form-control" name="enter_date" placeholder="选择日期">
                            </div>
                        </div>
                            
                        <div class="row">
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">出生日期 <span class="text-danger">(*)</span></label>
                                <input type="text" class="date form-control" name="birthday" placeholder="选择日期">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">出生地 <span class="text-danger">(*)</span></label>
                                <input type="text" name="birth_place" class="form-control" placeholder="出生地">
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">户口所在地</label>
                                <input type="text" name="domicile_place" class="form-control" placeholder="户口所在地">
                            </div>
                        </div>
                            
                        <div class="row">
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">专业职级 <span class="text-danger">(*)</span></label>
                                <select type="text" name="grade" class="form-control">
                                    <option value="">选择级别</option>
                                    <% for(var i = 0 ; i< gradeList.length ; i++){ %>
                                        <option value="<%= gradeList[i].grade %>"><%= gradeList[i].grade %></option>
                                    <% } %>
                                </select>
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">岗位类别 <span class="text-danger">(*)</span></label>
                                <select type="text" name="postType" class="form-control">
                                    <option value="">选择岗位类别</option>
                                    <% for(var i = 0 ; i< postTypeList.length ; i++){ %>
                                        <option value="<%= postTypeList[i].postType %>"><%= postTypeList[i].postType %></option>
                                    <% } %>
                                </select>
                            </div>
                            <div class="form-group col-lg-4">
                                <label for="" class="control-label">在职状态 <span class="text-danger">(*)</span></label>
                                <select type="text" name="state" class="form-control">
                                    <option value="">选择在职状态</option>
                                    <% for(var i = 0 ; i< stateList.length ; i++){ %>
                                        <option value="<%= stateList[i].state %>"><%= stateList[i].state %></option>
                                    <% } %>
                                </select>
                            </div>
                        </div>
                            
                        <div class="row">
                            <div class="form-group col-lg-12">
                                <label for="content" class="control-label">备注</label>
                                <textarea rows="2" name="bz" class="form-control" placeholder="社招或实习日期等信息备注" style="width:100%;"></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-2">
                                <button type="reset" class="btn btn-default btn-block">重置</button>
                            </div>
                            <div class="col-lg-10">
                                <button type="submit" class="btn btn-primary btn-block">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
				
        <!-- </div>   -->
    </div>    
<!-- special script -->
<!-- bootstrap-table -->
<script src="/jquery/dist/jquery.min.js"></script>
<script src="/bootstrap/dist/js/bootstrap.min.js"></script>

<script src="/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>
<script src="/bootstrap-datepicker/dist/locales/bootstrap-datepicker.zh-CN.min.js"></script>
<!-- personal -->
<script src="/javascripts/self.js"></script> 

<script src="/jquery-validation/dist/jquery.validate.js"></script>

<script>
    $(function(){
        // --------------------- datepicker ------------------- 
        // 日期选择框
        $('input.date').datepicker({
            format: "yyyy-mm-dd",
            weekStart: 7,
            // maxViewMode: 1,
            language: "zh-CN",
            // daysOfWeekDisabled: "0,6",
            // daysOfWeekHighlighted: "0,6",
            autoclose: true,
            todayHighlight: true,
            // startDate: new Date()
        }).on('show', function (e) {
            e.preventDefault();
            e.stopPropagation(); // 禁止触发父元素事件
        }).on('hide', function (e) {
            e.stopPropagation(); // 禁止触发父元素事件
        });
        
        // 表单验证插件
        $('#add form').validate({
            rules: {
                centre: "required",
                dept: "required",
                office: "required",
                name: {
                    required: true,
                    maxlength: 6,
                    minlength: 2,
                },
                userid: {
                    required: true,
                    maxlength: 20,
                    minlength: 3,
                },
                gender: "required",
                school: {
                    required: true,
                    maxlength: 50,
                    minlength: 2,
                },
                major: {
                    required: true,
                    maxlength: 50,
                    minlength: 2,
                },
                education: "required",
                graduation_date: "required",
                work_date: "required",
                enter_date: "required",
                birthday: "required",
                birth_place: "required",
                postType: "required",
                grade: "required",
                state: "required",
                bz: {
                    maxlength: 400
                }
            },
            errorClass: 'text-danger',
            // errorElement: 'i'
        });
    });
</script>
<% include ../layout/foot.ejs %>